(function(n){n.fn.formset=function(t){var i=n.extend({},n.fn.formset.defaults,t),c=i.extraClasses.join(" "),r=n(this),e=function(n,t){i.extraClasses&&(n.removeClass(c),n.addClass(i.extraClasses[t%i.extraClasses.length]))},o=function(n,t,i){var r=new RegExp("("+t+"-\\d+)"),u=t+"-"+i;n.attr("for")&&n.attr("for",n.attr("for").replace(r,u));n.attr("id")&&n.attr("id",n.attr("id").replace(r,u));n.attr("name")&&n.attr("name",n.attr("name").replace(r,u));n.attr("div")&&n.attr("div",n.attr("div").replace(r,u))},l=function(n){return n.find("input,select,textarea,label").length>0},s=function(t){t.is("TR")?t.children(":last").append('<a class="'+i.deleteCssClass+'" href="javascript:void(0)">'+i.deleteText+"<\/a>"):t.is("UL")||t.is("OL")?t.append('<li><a class="'+i.deleteCssClass+'" href="javascript:void(0)">'+i.deleteText+"<\/a><\/li>"):t.append('<a class="'+i.deleteCssClass+'" href="javascript:void(0)">'+i.deleteText+"<\/a>");t.find("a."+i.deleteCssClass).click(function(){var u=n(this).parents("."+i.formCssClass),f=u.find('input:hidden[id $= "-DELETE"]'),r,t,s;if(f.length)f.val("on"),u.hide();else for(u.remove(),r=n("."+i.formCssClass).not(".formset-custom-template"),n("#id_"+i.prefix+"-TOTAL_FORMS").val(r.length),t=0,s=r.length;t<s;t++)e(r.eq(t),t),r.eq(t).find("input,select,textarea,label").each(function(){o(n(this),i.prefix,t)});return i.removed&&i.removed(u),!1})},f,u,h;return r.each(function(t){var r=n(this),u=r.find('input:checkbox[id $= "-DELETE"]');u.length;l(r)&&(s(r),r.addClass(i.formCssClass),e(r,t))}),r.length&&(i.formTemplate?(u=i.formTemplate instanceof n?i.formTemplate:n(i.formTemplate),u.removeAttr("id").addClass(i.formCssClass).addClass("formset-custom-template"),u.find("input,select,textarea,label").each(function(){o(n(this),i.prefix,2012)}),s(u)):(u=n("."+i.formCssClass+":last").clone(!0).removeAttr("id"),u.find("input,select,textarea,label").each(function(){var t=n(this);t.is("input:checkbox")||t.is("input:radio")?t.attr("checked",!1):t.val("")})),i.formTemplate=u,r.attr("tagName")=="TR"?(h=r.eq(0).children().length,r.parent().append('<tr><td colspan="'+h+'"><a class="'+i.addCssClass+'" href="javascript:void(0)">'+i.addText+"<\/a><\/tr>"),f=r.parent().find("tr:last a"),f.parents("tr").addClass(i.formCssClass+"-add")):(r.filter(":last").after('<a class="'+i.addCssClass+'" href="javascript:void(0)">'+i.addText+"<\/a>"),f=r.filter(":last").next()),f.click(function(){var r=parseInt(n("#id_"+i.prefix+"-TOTAL_FORMS").val()),t=i.formTemplate.clone(!0).removeClass("formset-custom-template"),u=n(this).parents("tr."+i.formCssClass+"-add").get(0)||this;return e(t,r),t.insertBefore(n(u)).show(),t.find("input,select,textarea,label").each(function(){o(n(this),i.prefix,r)}),n("#id_"+i.prefix+"-TOTAL_FORMS").val(r+1),i.added&&i.added(t),!1})),r};n.fn.formset.defaults={prefix:"form",formTemplate:null,addText:"add another",deleteText:"remove",addCssClass:"add-row",deleteCssClass:"delete-row",formCssClass:"dynamic-form",extraClasses:[],added:null,removed:null}})(jQuery);
/*
//# sourceMappingURL=jquery.formset.min.js.map
*/