function capitalise(n){return n.charAt(0).toUpperCase()+n.slice(1)}function onChangeExisting(n,t,i){var f=t.val(),r="."+n+i+" ",u;f==0?(window["clear"+capitalise(n)+"Form"](r),window["make"+capitalise(n)+"FormReadOnly"](r,!1)):(u=$.ajax({type:"GET",url:"/accounting/"+n+"/"+f+"/",dataType:"json"}),u.done(function(t){var i=$.parseJSON(t);$.each(i[0].fields,function(n,t){n!="account"&&n!="lease"&&$(r+"[id$='"+n+"']").val(t)});window["make"+capitalise(n)+"FormReadOnly"](r,!0)}),u.fail(function(n,t){console.log("failure: "+t)}))}function configureTab(n){var r=n+"Tab",u="#"+r,i=r+"Index",t;$(u+" a").click(function(t){var r,u,f;t.preventDefault();$(this).parent("li").hasClass("active")?($(this).parent("li").removeClass("active"),r="#"+n+"TabContent",u=$(this).parent().index(),$(r+" > div").eq(u).removeClass("active"),$.cookie(i,-1)):($(this).tab("show"),f=$(this).parent().index(),$.cookie(i,f))});t=$.cookie(i);t==null&&(t=-1,$.cookie(i,t));t!=-1&&$(u+" li:eq("+t+") a").tab("show");$("#existing_"+n+"_id").tooltip();$("#existing_"+n+"_id_label").tooltip();$("#existing_"+n+"_id").change(function(){onChangeExisting(n,$(this),0)})}function OnTenantFormAdded(n){var t=$(n[0]).find("[id$='existing_tenant_id']"),i=$(".dynamic-form").index(n[0]);$(t[0]).change(function(){onChangeExisting("tenant",$(this),i)})}function OnTenantFormRemoved(){}$(document).ready(function(){var n=$(location).attr("hash"),t,r,i;n!=""&&(console.log("showing"+n),$(n).collapse("show"));t=["#owners","#lease","#vehicles"];for(r in t){i=t[r];$(i).on("shown.bs.collapse",function(n){return function(){$(location).attr("hash",n)}}(i))}configureTab("owner");configureTab("tenant");configureTab("lease");configureTab("vehicle")});
/*
//# sourceMappingURL=account_form.min.js.map
*/